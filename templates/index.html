<!DOCTYPE html>
<html>
<head>
    <title>Product Search</title>
</head>
<body>
    <h1>Search Products</h1>
    <form method="post">
        <input type="text" name="query" placeholder="Search by title" value="{{ query }}">
        
        Min Price: <input type="number" step="0.01" name="min_price" placeholder="Min price" value="{{ min_price }}">
        Max Price: <input type="number" step="0.01" name="max_price" placeholder="Max price" value="{{ max_price }}">
        
        Min Rating: 
        <select name="min_rating">
            <option value="" {% if min_rating == '' %}selected{% endif %}>Any</option>
            <option value="1" {% if min_rating == '1' %}selected{% endif %}>1 star</option>
            <option value="2" {% if min_rating == '2' %}selected{% endif %}>2 stars</option>
            <option value="3" {% if min_rating == '3' %}selected{% endif %}>3 stars</option>
            <option value="4" {% if min_rating == '4' %}selected{% endif %}>4 stars</option>
            <option value="5" {% if min_rating == '5' %}selected{% endif %}>5 stars</option>
        </select>
        
        <button type="submit">Search</button>
    </form>
    <h2>Results</h2>
    <table border="1" cellpadding="5" cellspacing="0">
        <tr><th>Title</th><th>Price</th><th>Rating</th><th>Description</th></tr>
        {% for product in products %}
        <tr>
            <td>{{ product['Title'] }}</td>
            <td>Â£{{ product['Price'] }}</td>
            <td>{{ product['Rating'] }}</td>
            <td>{{ product['Description'] }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
